<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Vision Mate</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>
    <nav class="navbar">
        <a href="../index.html" class="navbar-logo" aria-label="Vision Mate Home">üëÅÔ∏è Vision Mate</a>
        <ul class="navbar-links">
            <li><a href="../index.html#login">Login</a></li>
            <li><a href="signup.html">Signup</a></li>
            <li><a href="checkout.html">Checkout</a></li>
            <li><a href="track.html">Track Order</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
        </ul>
    </nav>
    <main>
        <section class="buy-page-section">
            <div class="buy-page-card">
                <div class="buy-page-img" aria-label="Vision Mate">üëÅÔ∏è</div>
                <h2>Vision Mate Smart Spectacle Device</h2>
                <p class="buy-page-desc">Upgrade your spectacles with Vision Mate! Instantly find your glasses and
                    monitor lens health with our smart BLE device. Easy to fit, lightweight, and packed with features.
                </p>
                <div class="buy-page-price">‚Çπ2,499</div>
                <form class="buy-page-form"
                    onsubmit="return goToCheckout('Vision Mate Smart Spectacle Device', document.getElementById('quantity-vm').value)">
                    <label for="quantity-vm">Quantity:</label>
                    <input type="number" id="quantity-vm" name="quantity-vm" min="1" value="1">
                    <button type="submit" class="buy-btn">Purchase Now</button>
                </form>
            </div>
            <div class="buy-page-card">
                <div class="buy-page-img" aria-label="Lens Cleaner">üß¥</div>
                <h2>Lens Cleaner</h2>
                <p class="buy-page-desc">Keep your lenses spotless and clear with our gentle, effective lens cleaner.
                    Safe for all types of spectacles.</p>
                <div class="buy-page-price">‚Çπ199</div>
                <form class="buy-page-form"
                    onsubmit="return goToCheckout('Lens Cleaner', document.getElementById('quantity-cleaner').value)">
                    <label for="quantity-cleaner">Quantity:</label>
                    <input type="number" id="quantity-cleaner" name="quantity-cleaner" min="1" value="1">
                    <button type="submit" class="buy-btn">Purchase Now</button>
                </form>
            </div>
            <div class="buy-page-card">
                <div class="buy-page-img" aria-label="Lens Cleaner Cloth">üßº</div>
                <h2>Lens Cleaner Cloth</h2>
                <p class="buy-page-desc">Microfiber cloth designed for streak-free, scratch-free cleaning of your
                    spectacle lenses.</p>
                <div class="buy-page-price">‚Çπ99</div>
                <form class="buy-page-form"
                    onsubmit="return goToCheckout('Lens Cleaner Cloth', document.getElementById('quantity-cloth').value)">
                    <label for="quantity-cloth">Quantity:</label>
                    <input type="number" id="quantity-cloth" name="quantity-cloth" min="1" value="1">
                    <button type="submit" class="buy-btn">Purchase Now</button>
                </form>
            </div>
            <div class="buy-page-card">
                <div class="buy-page-img" aria-label="Spectacle Transparent">üï∂Ô∏è</div>
                <h2>Spectacle Transparent</h2>
                <p class="buy-page-desc">Modern, lightweight transparent spectacles for a stylish and clear look.
                    Perfect for any occasion.</p>
                <div class="buy-page-price">‚Çπ1,299</div>
                <form class="buy-page-form"
                    onsubmit="return goToCheckout('Spectacle Transparent', document.getElementById('quantity-transparent').value)">
                    <label for="quantity-transparent">Quantity:</label>
                    <input type="number" id="quantity-transparent" name="quantity-transparent" min="1" value="1">
                    <button type="submit" class="buy-btn">Purchase Now</button>
                </form>
            </div>
            <div class="buy-page-card">
                <div class="buy-page-img" aria-label="Specs Box">üéÅ</div>
                <h2>Specs Box</h2>
                <p class="buy-page-desc">Protect your spectacles in style with our durable, elegant specs box. Fits most
                    frame sizes.</p>
                <div class="buy-page-price">‚Çπ249</div>
                <form class="buy-page-form"
                    onsubmit="return goToCheckout('Specs Box', document.getElementById('quantity-box').value)">
                    <label for="quantity-box">Quantity:</label>
                    <input type="number" id="quantity-box" name="quantity-box" min="1" value="1">
                    <button type="submit" class="buy-btn">Purchase Now</button>
                </form>
            </div>
        </section>
    </main>
    <footer class="site-footer">
        <div class="footer-main">
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="footer-socials">
                    <a href="#" class="footer-social" aria-label="Snapchat">üëª</a>
                    <a href="#" class="footer-social" aria-label="Twitter">üê¶</a>
                    <a href="#" class="footer-social" aria-label="YouTube">üì∫</a>
                    <a href="#" class="footer-social" aria-label="Reddit">üëΩ</a>
                    <a href="#" class="footer-social" aria-label="LinkedIn">üíº</a>
                </div>
            </div>
            <div class="footer-section footer-dropdown">
                <h4 tabindex="0">Company</h4>
                <div class="footer-dropdown-content">
                    <a href="#">About Vision Mate</a>
                    <a href="#">Careers</a>
                    <a href="#">Press</a>
                </div>
            </div>
            <div class="footer-section footer-dropdown">
                <h4 tabindex="0">Community</h4>
                <div class="footer-dropdown-content">
                    <a href="#">User Stories</a>
                    <a href="#">Events</a>
                    <a href="#">Blog</a>
                </div>
            </div>
            <div class="footer-section footer-dropdown">
                <h4 tabindex="0">Legal</h4>
                <div class="footer-dropdown-content">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Cookie Policy</a>
                </div>
            </div>
            <div class="footer-section footer-dropdown">
                <h4 tabindex="0">Support</h4>
                <div class="footer-dropdown-content">
                    <a href="#">Help Center</a>
                    <a href="#">Contact Us</a>
                    <a href="#">FAQs</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Vision Mate. All rights reserved.</p>
        </div>
    </footer>
    <!-- Chatbot Widget -->
    <div class="chatbot-widget">
        <button class="chatbot-toggle" id="chatbotToggle">üí¨</button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <span>Vision Mate Chatbot</span>
                <button class="chatbot-close" id="chatbotClose">&times;</button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chatbot-message bot">Hi! How can I help you with Vision Mate today?</div>
            </div>
            <form class="chatbot-input-area" id="chatbotForm">
                <input type="text" id="chatbotInput" placeholder="Type your message..." autocomplete="off" required />
                <button type="submit">Send</button>
            </form>
        </div>
    </div>
    <script>
        // Chatbot logic
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotForm = document.getElementById('chatbotForm');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotMessages = document.getElementById('chatbotMessages');

        function getChatbotReply(message) {
            const msg = message.toLowerCase();
            if (msg.includes('find') && msg.includes('spectacle')) {
                return 'To find your spectacles, connect your device using the serial number, then select "Find Your Spectacle Instantly". Our BLE device will help you locate your glasses using WiFi and Bluetooth signals.';
            }
            if (msg.includes('health') || msg.includes('lens')) {
                return 'To monitor your lens health, connect your device and select "Lens Health Monitoring System". You will see a health percentage and advice on whether your lenses are in good condition.';
            }
            if (msg.includes('how') && (msg.includes('use') || msg.includes('operate') || msg.includes('function'))) {
                return 'To use Vision Mate: 1) Enter your spectacle serial number to connect. 2) Choose a function: "Find Your Spectacle Instantly" or "Lens Health Monitoring System". Follow the on-screen instructions for each feature!';
            }
            if (msg.includes('how') && msg.includes('website')) {
                return 'To operate this website, start by connecting your spectacle using its serial number. Then, choose the function you want to use. The chatbot can help you with spectacle finding and lens health monitoring.';
            }
            return 'Sorry, I can only help with spectacle finding, using this website, and the two main functions: finding your spectacles and monitoring lens health. Please ask about these topics!';
        }

        chatbotToggle.addEventListener('click', () => {
            chatbotWindow.style.display = 'block';
            chatbotToggle.style.display = 'none';
        });
        chatbotClose.addEventListener('click', () => {
            chatbotWindow.style.display = 'none';
            chatbotToggle.style.display = 'block';
        });
        chatbotForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const userMsg = chatbotInput.value.trim();
            if (userMsg) {
                const userDiv = document.createElement('div');
                userDiv.className = 'chatbot-message user';
                userDiv.textContent = userMsg;
                chatbotMessages.appendChild(userDiv);
                chatbotInput.value = '';
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                setTimeout(() => {
                    const botDiv = document.createElement('div');
                    botDiv.className = 'chatbot-message bot';
                    botDiv.textContent = getChatbotReply(userMsg);
                    chatbotMessages.appendChild(botDiv);
                    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                }, 700);
            }
        });

        function goToCheckout(product, quantity) {
            window.location.href = `checkout.html?product=${encodeURIComponent(product)}&quantity=${encodeURIComponent(quantity)}`;
            return false;
        }
    </script>
</body>

</html>